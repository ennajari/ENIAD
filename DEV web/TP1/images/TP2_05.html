<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #section{
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .Nom{
            margin-left: 2%;
            padding: 2%;
        }
        .Prenom{
            padding: 2%;
        }
        .Tell{
            margin-left: 12%;
            padding: 2%;
        }
        .btn{
            padding: 2%;
            margin-left: 8%;
        }
        .error {
            border-color: red;
        }
        .valid {
            border-color: green;
        }
    </style>
</head>
<body>
    <section id="section">
        <div class="Nom">
            <label for="Nom">Nom</label>
            <input type="text" id="Nom">
        </div>
        <div class="Prenom">
            <label for="Prenom">Prenom</label>
            <input type="text" id="Prenom">
        </div>
        <div class="Tell">
            <label for="Tell">Tell</label>
            <input type="text" id="Tell"> 
            <a href="#" class="removeLink">Supprimer</a>
        </div>
        <div class="btn">
            <button id="addPhone">Ajouter numéro de téléphone</button> 
        </div>
        <div class="btn2">
            <input type="button" value="Envoyer" id="submitForm">
        </div>
    </section>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const section = document.getElementById('section');
            const addPhoneBtn = document.getElementById('addPhone');
            const submitBtn = document.getElementById('submitForm');

            addPhoneBtn.addEventListener('click', addPhoneNumber);
            submitBtn.addEventListener('click', validateForm);
            
            function addPhoneNumber() {
                const div = document.createElement('div');
                div.className = 'Tell';
                const label = document.createElement('label');
                label.setAttribute('for', 'Tell');
                label.textContent = 'Tell';
                const input = document.createElement('input');
                input.setAttribute('type', 'text');
                input.setAttribute('name', 'Tell');
                const removeLink = document.createElement('a');
                removeLink.setAttribute('href', '#');
                removeLink.classList.add('removeLink');
                removeLink.textContent = 'Supprimer';
                removeLink.addEventListener('click', removePhoneNumber);
                div.appendChild(label);
                div.appendChild(input);
                div.appendChild(removeLink);
                section.insertBefore(div, addPhoneBtn.parentNode.nextSibling);
            }

            function removePhoneNumber(event) {
                const div = event.target.parentNode;
                if (section.children.length > 5) { 
                    section.removeChild(div);
                }
            }

            function validateForm() {
                const inputs = document.querySelectorAll('input[type="text"]');
                inputs.forEach(input => {
                    if (input.value.trim() === '') {
                        input.classList.add('error');
                        input.insertAdjacentHTML('afterend', '<span class="errorMessage">Champ obligatoire !</span>');
                    } else {
                        input.classList.remove('error');
                        input.classList.add('valid');
                        const errorMessage = input.nextElementSibling;
                        if (errorMessage && errorMessage.classList.contains('errorMessage')) {
                            errorMessage.remove();
                        }
                    }
                });
            }
        });
    </script>
</body>
</html>
